name: rate_limit
display_name: Rate Limit
description: External/distributed rate limiting (requires gRPC service)
version: "1.0"

envoy:
  http_filter_name: envoy.filters.http.ratelimit
  type_url: type.googleapis.com/envoy.extensions.filters.http.ratelimit.v3.RateLimit
  per_route_type_url: type.googleapis.com/envoy.extensions.filters.http.ratelimit.v3.RateLimitPerRoute

capabilities:
  attachment_points:
    - route
    - listener
  requires_listener_config: true
  per_route_behavior: full_config

is_implemented: false

instructions: |
  Distributed rate limiting — requires an external gRPC rate limit service.
  Use local_rate_limit for simpler per-instance rate limiting.

  PER-ROUTE OVERRIDES (via typedPerFilterConfig on a route):
  - { "disabled": true } — disable rate limiting for this route
  - Full config replacement with different domain per route

config_schema:
  type: object
  required:
    - domain
    - rate_limit_service
  properties:
    domain:
      type: string
    rate_limit_service:
      type: object
